<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
            color: #343a40;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid #dee2e6;
        }
        header h1 {
            margin: 0;
            font-size: 1.75rem;
            font-weight: 500;
        }
        .search-bar {
            display: flex;
            align-items: center;
            border: 1px solid #ced4da;
            padding: 5px 10px;
            border-radius: 50px;
            background-color: #fff;
        }
        .search-bar input {
            border: none;
            outline: none;
            padding: 5px;
            width: 250px;
            font-size: 1rem;
        }
        .search-bar i {
            color: #6c757d;
        }
        .table-container {
            margin-top: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }
        .table-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        .pagination button, .add-button {
            border: none;
            background-color: #343a40;
            color: #fff;
            padding: 8px 10px; 
            margin: 15px 5px;
            cursor: pointer;
            border-radius: 4px;
            font-size: 1rem;
        }
        .pagination button:hover, .add-button:hover, .modal button:hover {
            background-color: #495057;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        table thead {
            background-color: #343a40;
            color: #fff;
        }
        table th, table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }
        table th {
            font-weight: 500;
        }
        table tbody tr {
            cursor: pointer;
        }
        table tbody tr:hover {
            background-color: #f1f1f1;
        }
        .pagination {
            display: flex;
            justify-content: flex-end;
            padding: 20px 0;
        }
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }
        .modal-content {
            background-color: #fff;
            margin: 10% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 50%;
            border-radius: 8px;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close:hover,
        .close:focus {
            color: black;
        }
        .modal input, .modal textarea, .modal select {
            width: calc(100% - 20px); 
            padding: 10px;
            margin-top: 10px;
            margin-bottom: 20px;
            border: 1px solid #ced4da;
            border-radius: 4px;
        }
        .modal button {
            padding: 8px 10px; 
        }
        .inline-label {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }
        .inline-label label {
            margin-right: 10px; 
        }
        .inline-label select {
            width: auto; 
        }
    </style>
    <title>Semantic Data Catalog</title>
</head>
<body>
    <div class="container">
        <header>
            <h1>Semantic Data Catalog</h1>
            <div class="search-bar">
                <input type="text" placeholder="Search datasets...">
                <i class="fas fa-search"></i>
            </div>
        </header>

        <div class="table-container">
            <div class="table-header">
                <h2>Datasets</h2>
                <button class="add-button" id="add-dataset-btn">Add Dataset</button>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Dataset Name</th>
                        <th>Description</th>
                        <th>Created At</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>Sample Dataset</td>
                        <td>This is a sample description for the dataset.</td>
                        <td>2024-01-01</td>
                        <td>
                            <button class="edit-btn">Edit</button>
                            <button>Delete</button>
                        </td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Another Dataset</td>
                        <td>Description for another dataset goes here.</td>
                        <td>2024-02-01</td>
                        <td>
                            <button class="edit-btn">Edit</button>
                            <button>Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="pagination">
            <button>&laquo; Previous</button>
            <button>Next &raquo;</button>
        </div>
    </div>

    <!-- Modal for adding and editing a dataset -->
    <div id="datasetModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modalTitle">Add New Dataset</h2>
            <form id="datasetForm">
                <label for="datasetName">Dataset Name:</label>
                <input type="text" id="datasetName" name="datasetName" value="">

                <label for="datasetDescription">Description:</label>
                <textarea id="datasetDescription" name="datasetDescription"></textarea>

                <label for="incrementalReplace">Incremental Replace:</label>
                <input type="text" id="incrementalReplace" name="incrementalReplace" value="">

                <label for="owner">Owner:</label>
                <select id="owner" name="owner">
                    <option value="1">Owner 1</option>
                    <option value="2">Owner 2</option>
                </select>

                <label for="contact">Contact:</label>
                <select id="contact" name="contact">
                    <option value="1">Contact 1</option>
                    <option value="2">Contact 2</option>
                </select>

                <div class="inline-label">
                    <label for="isPublic">Is Public:</label>
                </div>
                    <select id="isPublic" name="isPublic">
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>

                <label for="filePath">File Path:</label>
                <input type="file" id="filePath" name="filePath">

                <button type="button" id="saveDatasetButton" class="modal-button">Save Dataset</button>
            </form>
        </div>
    </div>

    <!-- Modal for displaying dataset information -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Dataset Information</h2>
            <p id="infoContent"></p>
        </div>
    </div>

    <script>
        // Get modal Info for adding/editing dataset
        const datasetModal = document.getElementById("datasetModal");
        const infoModal = document.getElementById("infoModal");
        const closeModalElements = document.querySelectorAll(".close");
        const saveDatasetButton = document.getElementById("saveDatasetButton");
        const datasetNameInput = document.getElementById("datasetName");
        const datasetDescriptionInput = document.getElementById("datasetDescription");
        const incrementalReplaceInput = document.getElementById("incrementalReplace");
        const ownerSelect = document.getElementById("owner");
        const contactSelect = document.getElementById("contact");
        const isPublicSelect = document.getElementById("isPublic");
        const filePathInput = document.getElementById("filePath");
        const modalTitle = document.getElementById("modalTitle");
        const infoContent = document.getElementById("infoContent");

        // Add event listener for Add Dataset button
        document.getElementById("add-dataset-btn").addEventListener("click", () => {
            resetForm();
            modalTitle.innerText = "Add New Dataset";
            datasetModal.style.display = "block";
        });

        // Add event listener for each table row to open info modal with dataset details
        document.querySelectorAll("tbody tr").forEach(row => {
            row.addEventListener("click", function() {
                const datasetName = this.cells[1].innerText;
                const datasetDescription = this.cells[2].innerText;
                const createdAt = this.cells[3].innerText;

                infoContent.innerHTML = `
                    <strong>Dataset Name:</strong> ${datasetName}<br>
                    <strong>Description:</strong> ${datasetDescription}<br>
                    <strong>Created At:</strong> ${createdAt}
                `;
                infoModal.style.display = "block";
            });
        });

        // Add event listener for Edit button 
        document.querySelectorAll(".edit-btn").forEach(button => {
            button.addEventListener("click", function(event) {
                event.stopPropagation(); 
                const row = event.target.closest("tr");
                const datasetName = row.cells[1].innerText;
                const datasetDescription = row.cells[2].innerText;
                const createdAt = row.cells[3].innerText;

                datasetNameInput.value = datasetName;
                datasetDescriptionInput.value = datasetDescription;
                incrementalReplaceInput.value = ""; 
                ownerSelect.value = "1"; 
                contactSelect.value = "1"; 
                isPublicSelect.value = "yes"; 
                filePathInput.value = ""; 

                modalTitle.innerText = "Edit Dataset";
                datasetModal.style.display = "block";
            });
        });

        // Add event listener for Save button in modal
        //Function for sending data to databases must be implemented
        saveDatasetButton.addEventListener("click", () => {
            alert("Dataset saved!");
            datasetModal.style.display = "none";
        });

        // Close modals when close button is clicked
        closeModalElements.forEach(close => {
            close.addEventListener("click", () => {
                datasetModal.style.display = "none";
                infoModal.style.display = "none";
            });
        });

        // Close modals when clicked outside the modal content
        window.addEventListener("click", function(event) {
            if (event.target == datasetModal || event.target == infoModal) {
                datasetModal.style.display = "none";
                infoModal.style.display = "none";
            }
        });

        // Reset the form fields for adding a new dataset
        function resetForm() {
            datasetNameInput.value = "";
            datasetDescriptionInput.value = "";
            incrementalReplaceInput.value = "";
            ownerSelect.value = "1"; 
            contactSelect.value = "1"; 
            isPublicSelect.value = "yes"; 
            filePathInput.value = "";
        }
    </script>
</body>
</html>
